# freeCodeCamp - Проект "Bike Rental Shop"

## Обзор

Этот репозиторий содержит решение для проекта "Bike Rental Shop" из сертификационного курса "Relational Database" на freeCodeCamp.

**Цель проекта:** Создать интерактивный Bash-скрипт, который управляет базой данных аренды велосипедов, позволяя пользователям брать и возвращать велосипеды, а также добавлять новых клиентов. Для хранения данных используется PostgreSQL.

**Ссылка на задание:** [Relational Database Certification](https://www.freecodecamp.org/learn/relational-database/)

## Технологии и Навыки

*   **Языки:** Bash, SQL (PostgreSQL)
*   **База данных:** PostgreSQL
*   **Инструменты:** `psql`, `read`, `while`, `if`, `case` (Bash), `sed`
*   **Концепции:** Работа с реляционными БД (включая `JOIN`), внешние ключи, CRUD-операции из скрипта, обработка пользовательского ввода, условная логика, функции Bash, обработка текстового вывода.

## Установка и Запуск

Этот проект требует установленного PostgreSQL и Bash.

1.  **Настройка Базы Данных:**

    *   **Подключитесь к PostgreSQL** от имени суперпользователя (обычно `postgres`) или вашего пользователя с правами создания БД:
        ```bash
        # Пример для пользователя postgres
        sudo -u postgres psql
        # Или просто psql, если ваш текущий пользователь имеет права
        # psql
        ```

    *   **Создайте базу данных `bikes`:**
        ```sql
        CREATE DATABASE bikes;
        ```

    *   **Создайте пользователя (Опционально, но рекомендуется):**
        ```sql
        CREATE USER bike_user WITH PASSWORD 'your_strong_password'; -- Замените пароль!
        GRANT ALL PRIVILEGES ON DATABASE bikes TO bike_user;
        \q
        ```
        *(Если вы создали пользователя, используйте его для следующей команды и в скрипте)*

    *   **Восстановите структуру и данные из дампа:**
        ```bash
        # Запускаем от имени пользователя postgres ИЛИ созданного bike_user
        # Вариант 1: от имени postgres
        sudo -u postgres psql -d bikes < bikes.sql
        # Вариант 2: от имени созданного bike_user (может потребоваться ввод пароля)
        # psql -U bike_user -d bikes < bikes.sql
        ```
        **Важное Примечание по Дампу:** Файл `bikes.sql`, созданный в среде freeCodeCamp, может содержать команды `ALTER ... OWNER TO freecodecamp;`. Это может вызвать ошибку при восстановлении.
        *   **Решение 1 (Рекомендуемое):** Откройте файл `bikes.sql` и **удалите или закомментируйте (`--`) все строки** с `OWNER TO freecodecamp`.
        *   **Решение 2:** Перед восстановлением создайте пользователя `freecodecamp` (`CREATE USER freecodecamp;`) или измените владельца объектов после восстановления.

2.  **Настройка Скрипта (`bike-shop.sh`):**

    *   Откройте файл `bike-shop.sh` в текстовом редакторе.
    *   Найдите строку `PSQL="psql -X --username=freecodecamp --dbname=bikes --tuples-only -c"`
    *   **Измените `--username=freecodecamp` и `--dbname=bikes`** на актуальные для вашей системы (например, `--username=postgres` или `--username=bike_user`, `--dbname=bikes`). Если ваш Linux-пользователь имеет доступ, можно убрать `--username`.
    *   Сохраните изменения.

3.  **Запуск Скрипта:**
    *   Сделайте скрипт исполняемым:
        ```bash
        chmod +x bike-shop.sh
        ```
    *   Запустите скрипт:
        ```bash
        ./bike-shop.sh
        ```

## Ключевые Реализованные Функции

*   Главное меню с опциями аренды, возврата и выхода.
*   Отображение доступных велосипедов из БД.
*   Проверка наличия клиента по номеру телефона, добавление нового клиента.
*   Регистрация аренды велосипеда (вставка данных в таблицу `rentals`, обновление статуса велосипеда).
*   Отображение велосипедов, арендованных клиентом.
*   Регистрация возврата велосипеда (обновление `date_returned`, обновление статуса велосипеда).
*   Обработка пользовательского ввода и ошибок.

## Выводы / Чему научилась

Этот проект позволил углубить навыки работы с Bash и PostgreSQL. Я научилась использовать `JOIN` для связи таблиц, реализовывать меню с помощью `case`, обрабатывать различные сценарии взаимодействия с пользователем и базой данных, а также применять функции Bash для структурирования кода.
